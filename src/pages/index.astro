---
import Layout from '@layouts/Layout.astro';
import '@styles/global.css';
const title = 'Home';
---

<Layout>
	<div data-sb-object-id="a59d87e4-e3ff-4929-acc1-d67b1808d36c" 
		style="display: flex; flex-direction: column; align-items: center; gap: 3rem; padding: 0.5rem; width: 100%; box-sizing: border-box;">
		<h1 class="title is-1 publication-title" style="text-align: center; font-size: 3rem; font-weight: bold; line-height: 1.4; margin-bottom: 0.1rem;">
			<span style="color: #3a23e8 ;font-weight: bolder;">Voyager:</span> 
			Real-Time Splatting City-Scale 3D Gaussians on Your Phone 
		</h1>
		
		<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 3rem; text-align: center; font-size: 1rem; color: #555; max-width: 900px; margin: 0 auto;">
			<div>
				<div>Zheng Liu</div>
				<div>Shanghai Jiao Tong University</div>
				<div>distilledw@sjtu.edu.cn<sup>*</sup></div>
			</div>
			<div>
				<div>He Zhu</div>
				<div>Shanghai Jiao Tong University</div>
				<div><sup>10215102469@stu.ecnu.edu.cn*</sup></div>
			</div>
			<div>
				<div>Yu Feng</div>
				<div>Shanghai Jiao Tong University</div>
				<div>y-feng@sjtu.edu.cn<sup>†</sup></div>
			</div>
		</div>

		<h2 style="text-align: center; font-size: 2rem; font-weight: bold; line-height: 1.4; color: #111;">🎥Demo Video </h2> 
		<video src="https://pub-6802ae6d29224c06bd794485679d3884.r2.dev/demo.mp4" type="video/mp4"
			controls muted loop style="width: 70vw; height: auto; display: block; margin: auto; 
			border: 1px solid #444; border-radius: 10px; box-shadow: 0 1px 4px rgba(0, 0, 0, 0.11); transform-origin: center;">
			The browser you are using does not support the video tag. 
		</video>
		
		<br>

		<h2 style="text-align: center; font-size: 2rem; font-weight: bold; line-height: 1.4; color: #111;"> 🔍Comparisons </h2> 

		<div class="before-after-row">
			<div id="example1" class="bal-container-small" >
				<div class="bal-after">
					<img src="/before-after/sciart_out_4.png" style="width: 100%;">
					<div class="bal-afterPosition afterLabel" style="z-index:1;">
						HierarchicalGS τ=3.0
					</div>
				</div>
				<div class="bal-before" style="width:96.4968152866242%;">
					<div class="bal-before-inset" style="width: 100%; ">
					<img src="/before-after/sciart_out_5.png"  style="width: 100%; ">
					<div class="bal-beforePosition beforeLabel">
						Voyager-L τ=3.0
					</div>
					</div>
				</div>
				<div class="bal-handle" style="left:96.4968152866242%;">
					<span class=" handle-left-arrow"></span>
					<span class="handle-right-arrow"></span>
				</div>
			</div>
			<div id="example2" class="bal-container-small" >
				<div class="bal-after">
					<img src="/before-after/residence_out_4.png" style="width: 100%;">
					<div class="bal-afterPosition afterLabel" style="z-index:1;">
						HierarchicalGS τ=3.0
					</div>
				</div>
				<div class="bal-before" style="width:96.4968152866242%;">
					<div class="bal-before-inset" style="width: 100%; ">
					<img src="/before-after/residence_out_5.png"  style="width: 100%; ">
					<div class="bal-beforePosition beforeLabel">
						Voyager-L τ=3.0
					</div>
					</div>
				</div>
				<div class="bal-handle" style="left:96.4968152866242%;">
					<span class=" handle-left-arrow"></span>
					<span class="handle-right-arrow"></span>
				</div>
			</div>
			<div id="example3" class="bal-container-small" >
				<div class="bal-after">
					<img src="/before-after/rubble_out_4.png" style="width: 100%;">
					<div class="bal-afterPosition afterLabel" style="z-index:1;">
						HierarchicalGS τ=3.0
					</div>
				</div>
				<div class="bal-before" style="width:96.4968152866242%;">
					<div class="bal-before-inset" style="width: 100%; ">
					<img src="/before-after/rubble_out_5.png"  style="width: 100%; ">
					<div class="bal-beforePosition beforeLabel">
						Voyager-L τ=3.0
					</div>
					</div>
				</div>
				<div class="bal-handle" style="left:96.4968152866242%;">
					<span class=" handle-left-arrow"></span>
					<span class="handle-right-arrow"></span>
				</div>
			</div>
			<div id="example4" class="bal-container-small" >
				<div class="bal-after">
					<img src="/before-after/building_out_4.png" style="width: 100%;">
					<div class="bal-afterPosition afterLabel" style="z-index:1;">
						HierarchicalGS τ=3.0
					</div>
				</div>
				<div class="bal-before" style="width:96.4968152866242%;">
					<div class="bal-before-inset" style="width: 100%; ">
					<img src="/before-after/building_out_5.png"  style="width: 100%; ">
					<div class="bal-beforePosition beforeLabel">
						Voyager-L τ=3.0
					</div>
					</div>
				</div>
				<div class="bal-handle" style="left:96.4968152866242%;">
					<span class=" handle-left-arrow"></span>
					<span class="handle-right-arrow"></span>
				</div>
			</div>
		</div>

		<br>

		<h2 style="text-align: center; font-size: 2rem; font-weight: bold; line-height: 1.4; color: #111;"> 📷Qualitative Comparisons </h2> 
		<p style="text-align: left; font-size: 1rem; color: #555;"> 📑1. Qualitative comparison of Voyager against other baselines on the SmallCity scene from HierarchicalGS   </p>
		<img src="/figs/smallcity.png" alt="PDF preview" style="max-width: 70%; height: auto;" />
		<p style="text-align: left; font-size: 1rem; color: #555;"> 📑2. Qualitative comparison of Voyager against other baselines on the SciArt scene from UrbanScene3D  </p>
		<img src="/figs/sciart.png" alt="PDF preview" style="max-width: 70%; height: auto;" />
		<p style="text-align: left; font-size: 1rem; color: #555;"> 📑3. Qualitative comparison of Voyager against other baselines on the Residence scene from UrbanScene3D  </p>
		<img src="/figs/residence.png" alt="PDF preview" style="max-width: 70%; height: auto;" />
		<p style="text-align: left; font-size: 1rem; color: #555;"> 📑4. Qualitative comparison of Voyager against other baselines on the Rubble scene from MegaNeRF   </p>
		<img src="/figs/rubble.png" alt="PDF preview" style="max-width: 70%; height: auto;" />
		<p style="text-align: left; font-size: 1rem; color: #555;"> 📑5. Qualitative comparison of Voyager against other baselines on the Building scene from MegaNeRF  </p>
		<img src="/figs/building.png" alt="PDF preview" style="max-width: 70%; height: auto;" />
		<p style="text-align: left; font-size: 1rem; color: #555;"> 📑6. Qualitative comparison of Voyager against other baselines on small-scale dataset.  </p>
		<img src="/figs/small_scale.png" alt="PDF preview" style="max-width: 70%; height: auto;" />
		
		<br>

		<h2 style="text-align: center; font-size: 2rem; font-weight: bold; line-height: 1.4; color: #111;"> 🔬Sensitivity Study </h2> 
		<p style="text-align: left; font-size: 1rem; color: #555; max-width: 70%; "> 📑1. Qualitative results of the sensitivity of rendering quality and performance to the lookup table size (𝑚 intervals) in the rasterization stage.</p>
		<img src="/figs/sens_study.png" alt="PDF preview" style="max-width: 70%; height: auto;" />

		<br>
		
		<h2 style="text-align: center; font-size: 1rem; font-weight: bold; line-height: 1.4; color: #111;"> Voyager @ 2025 </h2> 
    </div> 
</Layout> 

<script>
	class BeforeAfter {
		constructor(enteryObject) {
			const beforeAfterContainer = document.querySelector(enteryObject.id);
			const before = beforeAfterContainer.querySelector('.bal-before');
			const beforeText = beforeAfterContainer.querySelector('.bal-beforePosition');
			const afterText = beforeAfterContainer.querySelector('.bal-afterPosition');
			const handle = beforeAfterContainer.querySelector('.bal-handle');
			var widthChange = 0;

			beforeAfterContainer.querySelector('.bal-before-inset').setAttribute("style", "width: " + beforeAfterContainer.offsetWidth + "px;")
			window.onresize = function () {
				beforeAfterContainer.querySelector('.bal-before-inset').setAttribute("style", "width: " + beforeAfterContainer.offsetWidth + "px;")
			}
			before.setAttribute('style', "width: 50%;");
			handle.setAttribute('style', "left: 50%;");

			//touch screen event listener
			beforeAfterContainer.addEventListener("touchstart", (e) => {
				beforeAfterContainer.addEventListener("touchmove", (e2) => {
					let containerWidth = beforeAfterContainer.offsetWidth;
					let currentPoint = e2.changedTouches[0].clientX;
					let startOfDiv = beforeAfterContainer.offsetLeft;
					let modifiedCurrentPoint = currentPoint - startOfDiv;

					if (modifiedCurrentPoint > 10 && modifiedCurrentPoint < beforeAfterContainer.offsetWidth - 10) {
						let newWidth = modifiedCurrentPoint * 100 / containerWidth;
						before.setAttribute('style', "width:" + newWidth + "%;");
						afterText.setAttribute('style', "z-index: 1;");
						handle.setAttribute('style', "left:" + newWidth + "%;");
					}
				});
			});

			//mouse move event listener
			beforeAfterContainer.addEventListener('mousemove', (e) => {
				let containerWidth = beforeAfterContainer.offsetWidth;
				widthChange = e.offsetX;
				let newWidth = widthChange * 100 / containerWidth;
				if (e.offsetX > 10 && e.offsetX < beforeAfterContainer.offsetWidth - 10) {
					before.setAttribute('style', "width:" + newWidth + "%;");
					afterText.setAttribute('style', "z-index:" + "1;");
					handle.setAttribute('style', "left:" + newWidth + "%;");
				}
			})

		}
	}
	new BeforeAfter({
		id: '#example1'
	});
	new BeforeAfter({
		id: '#example2'
	});
	new BeforeAfter({
		id: '#example3'
	});
	new BeforeAfter({
		id: '#example4'
	});
</script>